<!DOCTYPE html>
<html lang="en">
<head>
	<title>Gears</title>
	<meta charset="utf-8">
	<meta name="title=" content="Gears">
	<meta name="robots" content="index, follow">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="a crafty cookie clicker">
	<meta name="keywords" content="cookie clicker, idle game, idle games, fun games, free online games, free games, steampunk">
	<link rel="shortcut icon" href="img/icons/icon96.png">
	<link rel="manifest" href="manifest.json">
	<link rel="apple-touch-icon" href="img/icons/icon96.png">
	<meta name="apple-mobile-web-app-status-bar" content="#A1A1AA">
	<meta name="theme-color" content="#A1A1AA">

	<link rel="stylesheet" href="css/styles.css">
	<script src="js/scripts.js"></script>
	<script src="js/game.js"></script>
</head>
<!-- text-center  -->
<body class="m-2 text-gray-900">
	<section>
		<h1>Gears</h1>
		<div id="inventory">
			<h3>Items</h3>
			Gears: <span id="gears"></span>
			Nuts: <span id="nuts"></span>
			Bolts: <span id="bolts"></span>
			Screws: <span id="screws"></span>
			<h3>Buildings</h3>
			Factories: <span id="factories"></span>
			Crafters: <span id="crafters"></span>
			Converters: <span id="converters"></span>
		</div>
		<div id="controls">
		</div>
		<div id="buildings">
			Factory makes
			<select id="factory-select">
				<option value="gears">gears</option>
				<option value="nuts">nuts</option>
				<option value="bolts">bolts</option>
				<option value="screws">screws</option>
			</select>
		</div>
		<!-- left: crafter crafting items -->
		<!-- center: snackbar: notifications like cannot craft, etc -->
		<!-- right: current crafting (by hand) queue, loading bar -->

		<!-- https://tailwindcomponents.com/component/multi-range-slider -->
		<!-- component -->
		<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
		<style>
			input[type=range]::-webkit-slider-thumb {
			pointer-events: all;
			width: 24px;
			height: 24px;
			-webkit-appearance: none;
			/* @apply w-6 h-6 appearance-none pointer-events-auto; */
			}
		</style> 
		<div class="h-screen flex justify-center items-center">
			<div x-data="range()" x-init="mintrigger(); maxtrigger()" class="relative max-w-xl w-full">
				<div>
					<input type="range"
						 step="1"
						 x-bind:min="min" x-bind:max="max"
						 x-on:input="mintrigger"
						 x-model="minprice"
						 class="absolute pointer-events-none appearance-none z-20 h-2 w-full opacity-0 cursor-pointer">
					<input type="range" 
						 step="1"
						 x-bind:min="min" x-bind:max="max"
						 x-on:input="maxtrigger"
						 x-model="maxprice"
						 class="absolute pointer-events-none appearance-none z-20 h-2 w-full opacity-0 cursor-pointer">
					<div class="relative z-10 h-2">
						<div class="absolute z-10 left-0 right-0 bottom-0 top-0 rounded-md bg-gray-200"></div>
						<div class="absolute z-20 top-0 bottom-0 rounded-md bg-indigo-500" x-bind:style="'right:'+maxthumb+'%; left:'+minthumb+'%'"></div>
						<div class="absolute z-30 w-6 h-6 top-0 left-0 bg-indigo-500 rounded-full -mt-2" x-bind:style="'left: '+minthumb+'%'"></div>
						<div class="absolute z-30 w-6 h-6 top-0 right-0 bg-indigo-500 rounded-full -mt-2" x-bind:style="'right: '+maxthumb+'%'"></div>
					</div>
				</div>
				<div class="flex justify-between items-center py-5">
					<div>
						<input type="number" x-on:input="mintrigger" x-model="minprice" class="py-2 border border-gray-200 rounded w-24 text-center">
					</div>
					<div>
						<input type="number" x-on:input="maxtrigger" x-model="maxprice" class="py-2 border border-gray-200 rounded w-24 text-center">
					</div>
				</div>
			</div>

		<script>
			function range() {
				return {
					minprice: 1, 
					maxprice: 100,
					min: 1, 
					max: 100,
					minthumb: 0,
					maxthumb: 0, 
					
					mintrigger() {   
						this.minprice = Math.min(this.minprice, this.maxprice);      
						this.minthumb = ((this.minprice - this.min) / (this.max - this.min)) * 100;
						console.log(this.minprice, this.minthumb);
					},
					 
					maxtrigger() {
						this.maxprice = Math.max(this.maxprice, this.minprice); 
						this.maxthumb = 100 - (((this.maxprice - this.min) / (this.max - this.min)) * 100);    
					}, 
				}
			}
		</script>
		</div>


	</section>
</body>
</html>